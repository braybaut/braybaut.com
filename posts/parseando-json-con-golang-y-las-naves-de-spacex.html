<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author"
    content="braybaut">
<meta name="description"
    content=" Golang se ha convertido en uno de mis lenguajes favoritos y hoy escribiré de como podemos usar go para poder consumir la API de spaceX y obtener información de las naves lanzadas al espacio
Soy admirador total de Elon musk y de todas sus compañías, una de ellas es spaceX, una compañía dedicada al transporte aeroespacial y hoy por medio de Golang vamos a obtener información de su ultima nave lanzada al espacio.
" />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<link rel="canonical" href="/posts/parseando-json-con-golang-y-las-naves-de-spacex.html" />


<title>
    
    Parseando JSON con Golang y las naves de spaceX :: Braybaut 
    
</title>



<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Source+Code+Pro" rel="stylesheet"
    type="text/css">
<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.1/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">


<link rel="stylesheet" href="/scss/main.min.2cb2cfcb2d25c14d702e06c24f9c05a189f6cbc9ef31f0a235fd739b411a5a1b.css">



<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#252627">
<link rel="shortcut icon" href="/favicon.ico">
<meta name="theme-color" content="#252627">
<meta itemprop="name" content="Parseando JSON con Golang y las naves de spaceX">
<meta itemprop="description" content=" 

Golang se ha convertido en uno de mis lenguajes favoritos y hoy escribiré de como podemos usar go para poder consumir la API de spaceX y obtener información de las naves lanzadas al espacio

Soy admirador total de Elon musk y de todas sus compañías, una de ellas es spaceX, una compañía dedicada al transporte aeroespacial y hoy por medio de Golang vamos a obtener información de su ultima nave lanzada al espacio.">


<meta itemprop="datePublished" content="2019-02-10T21:52:53&#43;00:00" />
<meta itemprop="dateModified" content="2019-02-10T21:52:53&#43;00:00" />
<meta itemprop="wordCount" content="904">



<meta itemprop="keywords" content="go,Golang,Json,spaceX," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Parseando JSON con Golang y las naves de spaceX"/>
<meta name="twitter:description" content=" 

Golang se ha convertido en uno de mis lenguajes favoritos y hoy escribiré de como podemos usar go para poder consumir la API de spaceX y obtener información de las naves lanzadas al espacio

Soy admirador total de Elon musk y de todas sus compañías, una de ellas es spaceX, una compañía dedicada al transporte aeroespacial y hoy por medio de Golang vamos a obtener información de su ultima nave lanzada al espacio."/>



<meta property="article:section" content="Golang" />

<meta property="article:published_time" content="2019-02-10 21:52:53 &#43;0000 &#43;0000" />








    </head>

    <body class="dark-theme">
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">$ cd /home/braybaut</span>
            <span class="logo__cursor"></span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/about">About</a></li><li><a href="/posts">Archive</a></li><li><a href="/archive">Blog</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            

            <span class="theme-toggle"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>
</span>
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            
            </p>
        </div>

        <article>
            <h2 class="post-title"><a href="/posts/parseando-json-con-golang-y-las-naves-de-spacex.html">Parseando JSON con Golang y las naves de spaceX</a></h2>

            

            <div class="post-content">
                <figure class="wp-block-image"><img src="https://i1.wp.com/braybaut.com/wp-content/uploads/2019/02/maxresdefault.jpg?resize=648%2C365&#038;ssl=1" alt="" class="wp-image-974" srcset="https://i1.wp.com/braybaut.com/wp-content/uploads/2019/02/maxresdefault.jpg?resize=1024%2C576&ssl=1 1024w, https://i1.wp.com/braybaut.com/wp-content/uploads/2019/02/maxresdefault.jpg?resize=300%2C169&ssl=1 300w, https://i1.wp.com/braybaut.com/wp-content/uploads/2019/02/maxresdefault.jpg?resize=768%2C432&ssl=1 768w, https://i1.wp.com/braybaut.com/wp-content/uploads/2019/02/maxresdefault.jpg?w=1280&ssl=1 1280w" sizes="(max-width: 648px) 100vw, 648px" data-recalc-dims="1" /></figure> 

<p>Golang se ha convertido en uno de mis lenguajes favoritos y hoy escribiré de como podemos usar go para poder consumir la API de spaceX y obtener información de las naves lanzadas al espacio</p>

<p>Soy admirador total de <a href="https://en.wikipedia.org/wiki/Elon_Musk" target="_blank">Elon musk</a> y de todas sus compañías, una de ellas es <a href="https://www.spacex.com/" target="_blank">spaceX</a>, una compañía dedicada al transporte aeroespacial y hoy por medio de Golang vamos a obtener información de su ultima nave lanzada al espacio.</p>

<p>SpaceX provee una API para obtener toda la información de las naves lanzadas al espacio:</p>

<pre class="wp-block-code"><code>curl -x https://api.spacexdata.com/v3/launches/latest | jq . </code></pre>

<p>Con esta API podemos obtener los siguientes datos:</p>

<pre class="wp-block-code"><code>{
  "flight_number": 74,
  "mission_name": "Iridium NEXT Mission 8",
  "mission_id": [
    "F3364BF"
  ],
  "launch_year": "2019",
  "launch_date_unix": 1547220660,
  "launch_date_utc": "2019-01-11T15:31:00.000Z",
  "launch_date_local": "2019-01-11T07:31:00-08:00",
  "is_tentative": false,
  "tentative_max_precision": "hour",
  "tbd": false,
  "launch_window": 0,
  "rocket": {
    "rocket_id": "falcon9",
    "rocket_name": "Falcon 9",
    "rocket_type": "FT",
    "first_stage": {
      "cores": [
        {
          "core_serial": "B1049",
          "flight": 2,
          "block": 5,
          "gridfins": true,
          "legs": true,
          "reused": true,
          "land_success": true,
          "landing_intent": true,
          "landing_type": "ASDS",
          "landing_vehicle": "JRTI"
        }
      ]
    },
    "second_stage": {
      "block": 5,
      "payloads": [
        {
          "payload_id": "Iridium NEXT 8",
          "norad_id": [
            43922,
            43923,
            43924,
            43925,
            43926,
            43927,
            43928,
            43929,
            43930,
            43931
          ],
          "reused": false,
          "customers": [
            "Iridium Communications"
          ],
          "nationality": "United States",
          "manufacturer": "Thales Alenia Space",
          "payload_type": "Satellite",
          "payload_mass_kg": 9600,
          "payload_mass_lbs": 21164.38,
          "orbit": "PO",
          "orbit_params": {
            "reference_system": "geocentric",
            "regime": "low-earth",
            "longitude": null,
            "semi_major_axis_km": 6997.303,
            "eccentricity": 0.0011185,
            "periapsis_km": 611.342,
            "apoapsis_km": 626.995,
            "inclination_deg": 86.6809,
            "period_min": 97.085,
            "lifespan_years": 15,
            "epoch": "2019-01-14T19:01:22.000Z",
            "mean_motion": 14.83223805,
            "raan": 46.2409,
            "arg_of_pericenter": 203.1527,
            "mean_anomaly": 156.9184
          }
        }
      ]
    },
    "fairings": {
      "reused": false,
      "recovery_attempt": false,
      "recovered": null,
      "ship": null
    }
  },
  "ships": [
    "JRTI-2",
    "NRCQUEST",
    "PACIFICFREEDOM"
  ],
  "telemetry": {
    "flight_club": "https://www.flightclub.io/result?code=IRD8"
  },
  "launch_site": {
    "site_id": "vafb_slc_4e",
    "site_name": "VAFB SLC 4E",
    "site_name_long": "Vandenberg Air Force Base Space Launch Complex 4E"
  },
  "launch_success": true,
  "links": {
    "mission_patch": "https://images2.imgbox.com/80/ae/1JL1ZzXD_o.png",
    "mission_patch_small": "https://images2.imgbox.com/11/f0/xPDcIpmS_o.png",
    "reddit_campaign": "https://www.reddit.com/r/spacex/comments/a699fh/iridium_next_constellation_mission_8_launch/",
    "reddit_launch": "https://www.reddit.com/r/spacex/comments/aemq2i/rspacex_iridium_next_8_official_launch_discussion/",
    "reddit_recovery": "https://www.reddit.com/r/spacex/comments/aewp4r/iridium_8_recovery_thread/",
    "reddit_media": "https://www.reddit.com/r/spacex/comments/aeoxve/rspacex_iridium_next_8_media_thread_videos_images/",
    "presskit": "https://www.spacex.com/sites/spacex/files/iridium8presskit.pdf",
    "article_link": "https://spaceflightnow.com/2019/01/11/spacex-begins-2019-with-eighth-and-final-for-upgraded-iridium-network/",
    "wikipedia": "https://en.wikipedia.org/wiki/Iridium_satellite_constellation#Next-generation_constellation",
    "video_link": "https://youtu.be/VshdafZvwrg",
    "youtube_id": "VshdafZvwrg",
    "flickr_images": [
      "https://farm5.staticflickr.com/4866/39745612523_14270b4b9d_o.jpg",
      "https://farm8.staticflickr.com/7833/39745612923_21aa442350_o.jpg",
      "https://farm5.staticflickr.com/4881/39745613173_e99b09c000_o.jpg",
      "https://farm8.staticflickr.com/7882/39745613513_6cdd4581af_o.jpg",
      "https://farm8.staticflickr.com/7807/39745613733_1a7b70e54a_o.jpg",
      "https://farm5.staticflickr.com/4891/39745614053_43855205bc_o.jpg"
    ]
  },
  "details": "SpaceX's first flight of 2019 will be the eighth and final launch of its planned Iridium flights. Delivering 10 satellites to low earth orbit, this brings the total up to 75 and completes the Iridium NEXT constellation. This mission launches from SLC-4E at Vandenberg AFB. The booster is expected to land on JRTI.",
  "upcoming": false,
  "static_fire_date_utc": "2019-01-06T13:51:00.000Z",
  "static_fire_date_unix": 1546782660,
  "timeline": null
}</code></pre>

<p>Pero no queremos toda la información que nos da el API, solo queremos saber, estos tres valores: Number Flight, mission Name y description. para esto, usaremos Go y consumiremos la API.</p>

<h3 id="pre-requisitos"><strong>Pre-requisitos</strong></h3>

<ul>
<li>Instalar Go desde <a href="https://golang.org/dl/" target="_blank">https://golang.org/dl/</a></li>
<li>Chequear la instalación de Go con <strong>go version&nbsp;</strong>//&nbsp;Yo&nbsp;estoy&nbsp;utilizando&nbsp;la&nbsp;version&nbsp;1.9.1</li>
<li>Para este caso utilizare librerías estándares de Go, ya que tiene los componentes de HTTP y JSON necesarios.</li>
<li>Pueden utilizar el editor de texto que quieran, yo utilizo vim con el plugin <a href="https://github.com/fatih/vim-go" target="_blank">go-vim</a></li>
</ul>

<p class="has-medium-font-size">
  <strong>Comencemos:</strong>
</p>

<p>creamos un archivo llamado <strong>spaceX.go y</strong> escribimos las lineas básicas de nuestro archivo:</p>

<pre class="wp-block-code"><code>package main 

func main() {

}</code></pre>

<p>podemos ejecutar nuestro archivo como <strong>go run spaceX.go</strong> o <strong>go build ./spaceX.go</strong></p>

<p>Ahora crearemos el request hacia la API y parsearemos el output para tener los valores que necesitamos:, para eso necesitamos los siguientes librerías</p>

<pre class="wp-block-code"><code> import (                                                                                                                                                                                         
     "encoding/json"                                                                                                                                                                              
     "fmt"                                                                                                                                                                                        
     "io/ioutil"                                                                                                                                                                                  
     "log"                                                                                                                                                                                        
     "net/http"                                                                                                                                                                                   
     "time"                                                                                                                                                                                       
 )   </code></pre>

<p>Tambien necesitamos escribir una estructura donde se extraera el texto del JSON, el nombre de las propiedades de la estructura deben iniciar con una letra mayúscula, para que puedan ser referenciadas como publicas</p>

<pre class="wp-block-code"><code> type ship struct {                                                                                                                                                                               
     Flight_number int    `json:"flight_number"`                                                                                                                                                  
     Mission_name  string `json:"mission_name"`                                                                                                                                                   
     Details       string `json:"details"`                                                                                                                                                        
 }   </code></pre>

<p>Realizamos el request y leemos la data con <strong>ioutil.ReadAll</strong></p>

<pre class="wp-block-code"><code>     url := "https://api.spacexdata.com/v3/launches/latest"                                                                                                                                       
     spaceX := http.Client{                                                                                                                                                                       
         Timeout: time.Second * 2,                                                                                                                                                                
     }                                                                                                                                                                                            
                                                                                                                                                                                                  
     req, err := http.NewRequest(http.MethodGet, url, nil)                                                                                                                                        
     if err != nil {                                                                                                                                                                              
         log.Fatal(err)                                                                                                                                                                           
     }                                                                                                                                                                                            
                                                                                                                                                                                                  
     res, getErr := spaceX.Do(req)                                                                                                                                                                
     if getErr != nil {                                                                                                                                                                           
         log.Fatal(getErr)                                                                                                                                                                        
     }                                                                                                                                                                                            
                                                                                                                                                                                                  
     body, readErr := ioutil.ReadAll(res.Body)                                                                                                                                                    
     if readErr != nil {                                                                                                                                                                          
         log.Fatal(readErr)                                                                                                                                                                       
     }                                                                                                                                                                                            </code></pre>

<p>Instanciamos ship1 con base a la estructura ship que escribimos anteriormente, posteriormente usamos json.Unmarshal para encodear la data y almacenarla en el objeto que instanciamos</p>

<pre class="wp-block-code"><code>     ship1 := ship{}                                                                                                                                                                              
     jsonErr := json.Unmarshal(body, &ship1)                                                                                                                                                      
     if jsonErr != nil {                                                                                                                                                                          
         log.Fatal(jsonErr)                                                                                                                                                                       
     }                                                                                                                                                                                            
     </code></pre>

<p>Por ultimo el resultado final que queremos mostrar:</p>

<pre class="wp-block-code"><code>fmt.Println("Flight Number: ", ship1.Flight_number)                                                                                                                                          
fmt.Println("Mission Name: ", ship1.Mission_name)                                                                                                                                            
fmt.Println("Details: ", ship1.Details) </code></pre>

<p>Nuestro código debe quedar algo asi:</p>

<pre class="wp-block-code"><code>package main                                                                                                                                                                                     
                                                                                                                                                                                                  
 import (                                                                                                                                                                                         
     "encoding/json"                                                                                                                                                                              
     "fmt"                                                                                                                                                                                        
     "io/ioutil"                                                                                                                                                                                  
     "log"                                                                                                                                                                                        
     "net/http"                                                                                                                                                                                   
     "time"                                                                                                                                                                                       
 )                                                                                                                                                                                                
                                                                                                                                                                                                  
 type ship struct {                                                                                                                                                                               
     Flight_number int    `json:"flight_number"`                                                                                                                                                  
     Mission_name  string `json:"mission_name"`                                                                                                                                                   
     Details       string `json:"details"`                                                                                                                                                        
 }                                                                                                                                                                                                
                                                                                                                                                                                                  
 func main() {                                                                                                                                                                                    
                                                                                                                                                                                                  
     url := "https://api.spacexdata.com/v3/launches/latest"                                                                                                                                       
     spaceX := http.Client{                                                                                                                                                                       
         Timeout: time.Second * 2,                                                                                                                                                                
     }                                                                                                                                                                                            
                                                                                                                                                                                                  
     req, err := http.NewRequest(http.MethodGet, url, nil)                                                                                                                                        
     if err != nil {                                                                                                                                                                              
         log.Fatal(err)                                                                                                                                                                           
     }                                                                                                                                                                                            
                                                                                                                                                                                                  
     res, getErr := spaceX.Do(req)                                                                                                                                                                
     if getErr != nil {                                                                                                                                                                           
         log.Fatal(getErr)                                                                                                                                                                        
     }                                                                                                                                                                                            
                                                                                                                                                                                                  
     body, readErr := ioutil.ReadAll(res.Body)                                                                                                                                                    
     if readErr != nil {                                                                                                                                                                          
         log.Fatal(readErr)                                                                                                                                                                       
     }                                                                                                                                                                                            
     ship1 := ship{}                                                                                                                                                                              
     jsonErr := json.Unmarshal(body, &ship1)                                                                                                                                                      
     if jsonErr != nil {                                                                                                                                                                          
         log.Fatal(jsonErr)                                                                                                                                                                       
     }                                                                                                                                                                                            
     fmt.Println("Flight Number: ", ship1.Flight_number)                                                                                                                                          
     fmt.Println("Mission Name: ", ship1.Mission_name)                                                                                                                                            
     fmt.Println("Details: ", ship1.Details)                                                                                                                                                                           
 } </code></pre>

<p>Guardamos y ejecutamos y debemos obtener un output como este:</p>

<pre class="wp-block-code"><code>Flight Number:  74
Mission Name:  Iridium NEXT Mission 8
Details:  SpaceX's first flight of 2019 will be the eighth and final launch of its planned Iridium flights. Delivering 10 satellites to low earth orbit, this brings the total up to 75 and completes the Iridium NEXT constellation. This mission launches from SLC-4E at Vandenberg AFB. The booster is expected to land on JRTI.
</code></pre>

<p>Con esto, logramos escribir con Go un HTTP Client que realiza un Request para consumir la API de spaceX y obtener un poco de información de la ultima nave lanzada al espacio.</p>

<p>Mas información</p>

<p><a href="https://golang.org/doc/" target="_blank">https://golang.org/doc/</a></p>
            </div>
        </article>

        <hr />

        <div class="post-info">
  				<p>
  					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg><span class="tag"><a href="tags/go">go</a></span><span class="tag"><a href="tags/golang">Golang</a></span><span class="tag"><a href="tags/json">Json</a></span><span class="tag"><a href="tags/spacex">spaceX</a></span>
  				</p>
  			</div>

        
    </main>

            </div>

            
                <footer class="footer">
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2019</span>
            
                <span><a href="">Braybaut</a></span>
            
            <span></span>
            <span> <a href="posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
        </div>
    </div>
    <div class="footer__inner">
        <div class="footer__content">

        </div>
    </div>
    <div class="footer__inner">
        <div class="footer__content">
            <span>Powered by <a href="http://gohugo.io">Hugo</a></span>
        </div>
    </div>
</footer>

            
        </div>

        





<script type="text/javascript" src="/js/bundle.4b80fbbfab88198dcef181b034822e60a3e68b1c128d1dc05392a32943a18ec2f866fbcd9ce31dcf84134397161647ad605ea5c25ecf12e5fcf9d28b47e64bb5.js" integrity="sha512-S4D7v6uIGY3O8YGwNIIuYKPmixwSjR3AU5KjKUOhjsL4ZvvNnOMdz4QTQ5cWFketYF6lwl7PEuX8&#43;dKLR&#43;ZLtQ=="></script>



    </body>
</html>
